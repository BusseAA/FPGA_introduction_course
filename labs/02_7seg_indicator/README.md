# Семисегментный индикатор
## Собрать проект и прошить FPGA

* Создайте проект в этой директории как в первом проекте 01_led_blink_test.
* Найдите в документации необходимые выводы семисегментнго индикатора и в меню Assignment->Pin Planer назначьте необходимые входы выходы.
  * Для чипа EP4CE6E22C8 - [schematic](https://github.com/BusseAA/FPGA_introduction_course/blob/main/docs/schematic_v200.pdf).  
  * Для чипа EP4CE6F17I7 - [User manual](https://github.com/BusseAA/FPGA_introduction_course/blob/main/docs/AX301_English_ug_V1.0.pdf). (раздел digital tube)
  * Назначать через поле location
* Для EP4CE6F17I7 потребуется инвертировать segments в строке 12 файла top.v (assign {DS_A, DS_B, DS_C, DS_D, DS_E, DS_F, DS_G} = ~segments;)
  * Прочитайте в документации в разделе digital tube (0-горит, 1-не горит).
* Скомпилируйте проект и прошейте устройство.

## Симуляция

* Установите Modelsim
  * (сейчас intel перестали поддерживать Modelsim и вместо него предлагают схожий симулятор Questa intel FPGA,
    который идет вместе с Quartus, но для его использования требуется получить бесплатную лицензию через сайт intel, для чего потребуется НЕ российский номер)
* После создания проекта Quartus создаст папку 7seg_indicator/simulation.
  * Внутри будет папка либо Questa либо Custom (в зависимости от настроек проекта при создании).
  * Создайте папку 7seg_indicator/simulation/modelsim (можно использовать любую директорию для этого, но здесь мы следуем структуре проекта, предлагаемой intel)
  * В этой папке modelsim будет хранить свои временные и выходные файлы (результаты компиляции для симуляции, результаты симуляции и т.д.)
* Откройте modelsim создайте новы проект (File->New->Project) создаем проект в созданной директории 7seg_indicator/simulation/modelsim.
* Добавьте файлы проекта и testbench (tb_top.v) в проект (правой кнопкой в пустом месте->Add to project->Existing files).
* Скомпилируйте все файлы. (Меню Compile)
* Запустите симуляцию
  * Simulate -> Start simulation (Симулировать надо testbench: work/tb_top.v).
  * Добавьте выводы которые вы хотите наблюдать на график (правой кнопкой на модуль или вывод -> Add Wave).
  * Запустите симуляцию Run (можно задать время симуляции. Задайте 20 us).
  * Можете наблюдать результаты симуляции.
